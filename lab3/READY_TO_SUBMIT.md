╔════════════════════════════════════════════════════════════════╗
║          КОД ГЕНЕРАТОРА - ИНСТРУКЦИИ ДЛЯ СДАЧИ              ║
║                   Lab3: Three-Address Code Compiler            ║
╚════════════════════════════════════════════════════════════════╝

🎯 МАКСИМАЛЬНЫЙ БАЛЛ: 22 из 20+ возможных

═══════════════════════════════════════════════════════════════════

📝 ШАГ 1: ПОДГОТОВКА К СДАЧЕ

1. Убедитесь, что все файлы на месте:
   ✓ src/main.cpp, src/lexer.h, src/parser.h, src/semantic.h,
   ✓ src/ir.h, src/codegen.h, src/optimizer.h, src/interpreter.h
   ✓ Makefile
   ✓ README.md, USAGE.md, ARCHITECTURE.md, COMPILATION.md
   ✓ test/ - примеры и тесты

2. Проверьте компиляцию:
   $ make clean && make
   
   Должно вывести:
   "g++ -std=c++17 -Wall -O2 src/main.cpp -o bin/compiler"

═══════════════════════════════════════════════════════════════════

⚡ ШАГ 2: БЫСТРАЯ ДЕМОНСТРАЦИЯ (5-7 минут)

Запустите скрипт быстрого старта:
   $ chmod +x quickstart.sh
   $ ./quickstart.sh

Он покажет:
  1. Простые вычисления (example1.txt) → TAC
  2. Циклы и условия (example2.txt) → TAC с метками
  3. Оптимизацию (example3.txt) → constant folding
  4. Сложный пример (example4.txt) → факториал
  5. Обработку ошибок (error1.txt, error2.txt)

═══════════════════════════════════════════════════════════════════

📊 ШАГ 3: РУЧНАЯ ДЕМОНСТРАЦИЯ КОМПОНЕНТОВ

Для преподавателя - показать работу каждого этапа:

1. ЛЕКСИЧЕСКИЙ АНАЛИЗ:
   $ ./bin/compiler test/example1.txt -tokens
   
   Покажет все 25+ токенов с типами (INT_LIT, IDENT, PLUS и т.д.)

2. СЕМАНТИЧЕСКИЙ АНАЛИЗ:
   $ ./bin/compiler test/error2.txt
   
   Покажет ошибку: "✗ Undefined variable 'b'"

3. ГЕНЕРАЦИЯ КОДА (TAC):
   Видна автоматически в стандартном выводе:
   
   === THREE-ADDRESS CODE (TAC) ===
   0:  t1 = a + b
   1:  c = t1
   2:  print(c)

4. ОПТИМИЗАЦИЯ:
   $ ./bin/compiler test/example3.txt
   
   Покажет "Dead code elimination: X instructions removed"

5. ИНТЕРПРЕТАЦИЯ:
   Результаты видны в конце вывода:
   
   ✓ Execution complete
   Output lines: 1

═══════════════════════════════════════════════════════════════════

🎬 ШАГ 4: КЛЮЧЕВЫЕ МОМЕНТЫ ДЛЯ ПРЕЗЕНТАЦИИ

1. АРХИТЕКТУРА (30 сек):
   "Компилятор состоит из 6 этапов:
    1. Лексический анализ → токены
    2. Синтаксический анализ → AST
    3. Семантический анализ → проверка типов
    4. Генерация кода → трехадресный код (TAC)
    5. Оптимизация → удаление мертвого кода
    6. Интерпретация → результаты"

2. ТРЕХАДРЕСНЫЙ КОД (1 мин):
   "TAC - это промежуточное представление, где каждая
    инструкция имеет не более 3 операндов.
    
    Пример преобразования:
    z = x + y * 2;
    
    Становится:
    t1 = y * 2
    t2 = x + t1
    z = t2"

3. ОПТИМИЗАЦИЯ (1 мин):
   "Реализованы две оптимизации:
    - Constant Folding: вычисление констант на этапе компиляции
    - Dead Code Elimination: удаление неиспользуемого кода"

4. СЕМАНТИЧЕСКИЙ АНАЛИЗ (1 мин):
   "Проверяются типы, области видимости,
    и обнаруживаются ошибки до этапа интерпретации"

═══════════════════════════════════════════════════════════════════

✅ ЗАВЕРШАЮЩИЕ ПРОВЕРКИ

Перед сдачей проверьте:

✓ Компиляция без ошибок:
  $ make clean && make
  
✓ Все примеры работают:
  $ ./bin/compiler test/example1.txt
  $ ./bin/compiler test/example2.txt
  $ ./bin/compiler test/example3.txt
  $ ./bin/compiler test/example4.txt
  
✓ Ошибки обрабатываются правильно:
  $ ./bin/compiler test/error1.txt
  $ ./bin/compiler test/error2.txt
  
✓ Опции работают:
  $ ./bin/compiler test/example1.txt -tokens
  $ ./bin/compiler test/example1.txt -noopt
  $ ./bin/compiler test/example1.txt -o output/test.ir

✓ TAC сохраняется в файл:
  $ ls -la output/test.ir

═══════════════════════════════════════════════════════════════════

📈 ОЦЕНИВАНИЕ (ПО ПУНКТАМ)

15 баллов - Базовый трехадресный код ✓
  ✓ Преобразование выражений в TAC
  ✓ Управление метками для циклов
  ✓ Временные переменные
  ✓ Вывод кода в файл/консоль

+3 балла - Семантический анализ ✓
  ✓ Проверка типов
  ✓ Таблица символов
  ✓ Обнаружение ошибок

+4 балла - Оптимизация ✓
  ✓ Constant folding
  ✓ Dead code elimination

ИТОГО: 22 балла

═══════════════════════════════════════════════════════════════════

💡 ОТВЕТЫ НА ВОЗМОЖНЫЕ ВОПРОСЫ

Q: Почему трехадресный код?
A: "TAC - это стандартное промежуточное представление, которое
   легко оптимизировать и переводить в машинный код для разных
   платформ. Используется в реальных компиляторах (LLVM, GCC)."

Q: Какие оптимизации реализованы?
A: "Constant Folding - мы вычисляем 2+3 еще при компиляции.
   Dead Code Elimination - удаляем присваивания к переменным,
   которые никогда не используются."

Q: Как обеспечить корректность TAC?
A: "Встроенный интерпретатор исполняет сгенерированный код и
   проверяет его корректность. Если результат правильный,
   то TAC сгенерирован верно."

Q: Что насчет сложных структур данных?
A: "В данной реализации поддерживаются базовые типы (int, bool)
   и простые переменные. Расширение на массивы/структуры 
   возможно в будущих версиях."

═══════════════════════════════════════════════════════════════════

🎓 ДОПОЛНИТЕЛЬНАЯ ИНФОРМАЦИЯ

Файлы документации для преподавателя:
  - README.md       - Общее описание и быстрый старт
  - USAGE.md        - Подробные примеры использования
  - ARCHITECTURE.md - Описание архитектуры (6 компонентов)
  - COMPILATION.md  - Информация о сборке и требованиях
  - PROJECT_FILES.md - Полный список файлов и их описание

═══════════════════════════════════════════════════════════════════

📞 КОНТРОЛЬНЫЙ СПИСОК ПЕРЕД СДАЧЕЙ

[ ] Все файлы на месте
[ ] Проект компилируется без ошибок (make)
[ ] Все 4 примера работают
[ ] Оба негативных теста обнаруживают ошибки
[ ] Вывод красивый и информативный
[ ] Опции командной строки работают
[ ] Документация полная и понятная
[ ] Исходный код читаемый и хорошо структурирован
[ ] Готов демонстрировать на презентации

═══════════════════════════════════════════════════════════════════

🏆 ГОТОВО К СДАЧЕ!

Проект полностью соответствует требованиям ЛР3 и включает
все необходимые компоненты для получения максимальной оценки.

Удачи при сдаче! 🚀

═══════════════════════════════════════════════════════════════════
