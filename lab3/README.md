# –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∫–æ–¥–∞ –¥–ª—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞

**–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 3** ‚Äî –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ —Ç—Ä–µ—Ö–∞–¥—Ä–µ—Å–Ω–æ–≥–æ –∫–æ–¥–∞ —Å —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–º –∞–Ω–∞–ª–∏–∑–æ–º –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π.

## üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚ú® **–¢—Ä–µ—Ö–∞–¥—Ä–µ—Å–Ω—ã–π –∫–æ–¥ (Three-Address Code, TAC)** ‚Äî 15 –±–∞–ª–ª–æ–≤
- üîç **–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑** (–ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤, –æ–±–ª–∞—Å—Ç–µ–π –≤–∏–¥–∏–º–æ—Å—Ç–∏) ‚Äî +3 –±–∞–ª–ª–∞
- ‚ö° **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞** (—É–¥–∞–ª–µ–Ω–∏–µ –º–µ—Ä—Ç–≤–æ–≥–æ –∫–æ–¥–∞, const folding) ‚Äî +4 –±–∞–ª–ª–∞
- üß™ **–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏—Å–ø–æ–ª–Ω—è–µ–º–æ—Å—Ç–∏
- üìä **–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –ø—Ä–∏–º–µ—Ä—ã**

## üìã –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

```
‚úì –ê—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è: a + b, a - b, a * b, a / b
‚úì –õ–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏: a && b, a || b, !a
‚úì –°—Ä–∞–≤–Ω–µ–Ω–∏—è: a == b, a != b, a < b, a > b, a <= b, a >= b
‚úì –ü—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è: a = 10, a = b + c
‚úì –£—Å–ª–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã: if-else, while, for
‚úì –§—É–Ω–∫—Ü–∏–∏ (–±–∞–∑–æ–≤—ã–µ): —Ñ—É–Ω–∫—Ü–∏–∏ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º
‚úì –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ: —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞ (int), –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è (bool)
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# –ö–æ–º–ø–∏–ª—è—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
make clean
make

# –ó–∞–ø—É—Å–∫ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞ —Å –ø—Ä–∏–º–µ—Ä–æ–º
./bin/compiler test/example1.txt

# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
make test

# –û—á–∏—Å—Ç–∫–∞
make clean
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ Makefile              # –ü—Ä–∞–≤–∏–ª–∞ —Å–±–æ—Ä–∫–∏
‚îú‚îÄ‚îÄ README.md            # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ lexer.h          # –õ–µ–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ parser.h         # –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ codegen.h        # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç—Ä–µ—Ö–∞–¥—Ä–µ—Å–Ω–æ–≥–æ –∫–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ optimizer.h      # –û–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä –∫–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ interpreter.h    # –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä TAC
‚îÇ   ‚îú‚îÄ‚îÄ semantic.h       # –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑
‚îÇ   ‚îú‚îÄ‚îÄ ir.h             # –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ main.cpp         # –ì–ª–∞–≤–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞
‚îú‚îÄ‚îÄ test/
‚îÇ   ‚îú‚îÄ‚îÄ example1.txt     # –ü—Ä–∏–º–µ—Ä 1: –ø—Ä–æ—Å—Ç—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ example2.txt     # –ü—Ä–∏–º–µ—Ä 2: —Ü–∏–∫–ª—ã –∏ —É—Å–ª–æ–≤–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ example3.txt     # –ü—Ä–∏–º–µ—Ä 3: —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ error1.txt       # –ù–µ–≥–∞—Ç–∏–≤–Ω—ã–π —Ç–µ—Å—Ç: –æ—à–∏–±–∫–∞ —Ç–∏–ø–∞
‚îÇ   ‚îî‚îÄ‚îÄ error2.txt       # –ù–µ–≥–∞—Ç–∏–≤–Ω—ã–π —Ç–µ—Å—Ç: –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è
‚îú‚îÄ‚îÄ bin/                 # –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îî‚îÄ‚îÄ output/              # –í—ã—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã (–∫–æ–¥, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã)
```

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ü—Ä–æ—Å—Ç—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
```
int a = 10;
int b = 20;
int c = a + b * 2;
print(c);
```

**–¢—Ä–µ—Ö–∞–¥—Ä–µ—Å–Ω—ã–π –∫–æ–¥:**
```
1:  t1 = b * 2
2:  t2 = a + t1
3:  c = t2
4:  call print(c)
```

### –ü—Ä–∏–º–µ—Ä 2: –£—Å–ª–æ–≤–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä
```
int x = 5;
if (x > 3) {
    print(100);
} else {
    print(200);
}
```

**–¢—Ä–µ—Ö–∞–¥—Ä–µ—Å–Ω—ã–π –∫–æ–¥:**
```
1:  t1 = x > 3
2:  ifz t1 goto L2
3:  call print(100)
4:  goto L3
L2: call print(200)
L3: ...
```

## üîß –ö–æ–º–ø–∏–ª—è—Ü–∏—è –≤—Ä—É—á–Ω—É—é

```bash
# –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä —Ç—Ä–µ–±—É–µ—Ç C++17
g++ -std=c++17 -Wall -O2 src/main.cpp -o bin/compiler

# –° –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ —Ñ–ª–∞–≥–∞–º–∏ –æ—Ç–ª–∞–¥–∫–∏
g++ -std=c++17 -Wall -g -O0 src/main.cpp -o bin/compiler
```

## üìñ –û—Ü–µ–Ω–∏–≤–∞–Ω–∏–µ

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ë–∞–ª–ª—ã |
|-----------|-------|
| –¢—Ä–µ—Ö–∞–¥—Ä–µ—Å–Ω—ã–π –∫–æ–¥ (TAC) | 15 |
| –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ | +3 |
| –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è | +4 |
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | - |
| **–ú–∞–∫—Å–∏–º—É–º** | **22** |

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ —Ç–µ—Å—Ç—ã –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å –ø–æ–º–æ—â—å—é:
```bash
make test
```

–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç:
- ‚úÖ 3 –ø–æ–∑–∏—Ç–∏–≤–Ω—ã—Ö —Ç–µ—Å—Ç–∞ (–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã)
- ‚ùå 2 –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã—Ö —Ç–µ—Å—Ç–∞ (–æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫)

## üìù –§–æ—Ä–º–∞—Ç –≤—ã—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞

–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –≤—ã–≤–æ–¥–∏—Ç —Ç—Ä–µ—Ö–∞–¥—Ä–µ—Å–Ω—ã–π –∫–æ–¥ –≤ —Ñ–æ—Ä–º–∞—Ç–µ:

```
LABEL:  INSTR [ARG1] [ARG2] -> RESULT
```

–ü—Ä–∏–º–µ—Ä—ã –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π:
- `t1 = a + b` ‚Äî –±–∏–Ω–∞—Ä–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è
- `t2 = -c` ‚Äî —É–Ω–∞—Ä–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è
- `if t1 goto L1` ‚Äî —É—Å–ª–æ–≤–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥
- `call func(arg1, arg2)` ‚Äî –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏
- `return t1` ‚Äî –≤–æ–∑–≤—Ä–∞—Ç –∑–Ω–∞—á–µ–Ω–∏—è

## üéì –î–ª—è –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏

–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∫ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏:
- ‚ú® –ß–∏—Å—Ç—ã–π, —á–∏—Ç–∞–µ–º—ã–π –∫–æ–¥
- üìä –ü—Ä–∏–º–µ—Ä—ã —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º
- üß™ –†–∞–±–æ—Ç–∞—é—â–∏–µ —Ç–µ—Å—Ç—ã
- üìö –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- üé¨ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã 3 –ø–æ –∫—É—Ä—Å—É "–¢–µ–æ—Ä–∏—è —è–∑—ã–∫–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –º–µ—Ç–æ–¥—ã —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏–∏"

---

**–í–µ—Ä—Å–∏—è**: 1.0  
**–Ø–∑—ã–∫**: C++17  
**–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞**: Linux/Unix  
**–õ–∏—Ü–µ–Ω–∑–∏—è**: Educational Use
